@model GrcMvc.ViewComponents.WorkspaceSwitcherModel

@if (Model.Workspaces.Any())
{
    <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle text-info" href="#" role="button" data-bs-toggle="dropdown">
            <i class="bi bi-folder"></i> 
            @if (!string.IsNullOrEmpty(Model.CurrentWorkspaceName))
            {
                <span>@Model.CurrentWorkspaceName</span>
            }
            else
            {
                <span>@(Model.IsRtl ? "مساحة العمل" : "Workspace")</span>
            }
        </a>
        <ul class="dropdown-menu @(Model.IsRtl ? "dropdown-menu-start" : "dropdown-menu-end")">
            @foreach (var ws in Model.Workspaces)
            {
                <li>
                    <a class="dropdown-item @(ws.IsCurrent ? "active bg-primary text-white" : "")" 
                       href="#" 
                       onclick="switchWorkspace('@ws.Id'); return false;">
                        <i class="bi bi-@(ws.IsCurrent ? "check-circle-fill" : "circle") me-2"></i>
                        @ws.Name
                        @if (ws.IsCurrent)
                        {
                            <span class="badge bg-light text-dark ms-2">@(Model.IsRtl ? "الحالي" : "Current")</span>
                        }
                    </a>
                </li>
            }
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-gear me-2"></i>@(Model.IsRtl ? "إعدادات مساحة العمل" : "Workspace Settings")</a></li>
        </ul>
    </li>
}
