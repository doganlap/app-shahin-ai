@page
@using Volo.Abp.AspNetCore.Mvc.UI.Bootstrap.TagHelpers.Modal
@{
    Layout = null;
}

<abp-modal size="Large">
    <abp-modal-header title="Create Framework"></abp-modal-header>

    <abp-modal-body>
        <form id="FrameworkCreateForm" autocomplete="off">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label">Regulator</label>
                    <select class="form-select" id="RegulatorId" required>
                        <option value="">Loading...</option>
                    </select>
                    <div class="form-text">Source: GET /api/app/framework-library/regulator</div>
                </div>

                <div class="col-md-6 mb-3">
                    <label class="form-label">Code</label>
                    <input class="form-control" id="Code" placeholder="e.g., NCA-ECC" required />
                </div>

                <div class="col-md-6 mb-3">
                    <label class="form-label">Version</label>
                    <input class="form-control" id="Version" placeholder="e.g., 2024" />
                </div>

                <div class="col-md-6 mb-3">
                    <label class="form-label">Status</label>
                    <select class="form-select" id="Status">
                        <option value="Draft">Draft</option>
                        <option value="Active" selected>Active</option>
                        <option value="Deprecated">Deprecated</option>
                    </select>
                </div>

                <div class="col-md-6 mb-3">
                    <label class="form-label">Title (EN)</label>
                    <input class="form-control" id="TitleEn" placeholder="Framework title in English" />
                </div>

                <div class="col-md-6 mb-3">
                    <label class="form-label">Title (AR)</label>
                    <input class="form-control" id="TitleAr" placeholder="عنوان الإطار بالعربية" />
                </div>

                <div class="col-md-6 mb-3">
                    <label class="form-label">Effective Date</label>
                    <input type="date" class="form-control" id="EffectiveDate" />
                </div>

                <div class="col-md-6 mb-3 d-flex align-items-center">
                    <div class="form-check mt-4">
                        <input class="form-check-input" type="checkbox" id="IsMandatory" />
                        <label class="form-check-label" for="IsMandatory">Mandatory</label>
                    </div>
                </div>
            </div>

            <div class="alert alert-warning mb-0">
                If your API DTO uses different property names (e.g., Title as a LocalizedString),
                adjust the payload mapping in <strong>CreateModal.js</strong> only.
            </div>
        </form>
    </abp-modal-body>

    <abp-modal-footer buttons="@(AbpModalButtons.Cancel | AbpModalButtons.Save)"></abp-modal-footer>
</abp-modal>

<script src="/Pages/FrameworkLibrary/CreateModal.js"></script>
