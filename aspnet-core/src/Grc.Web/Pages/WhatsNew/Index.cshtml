@page
@using Microsoft.AspNetCore.Mvc.Localization
@using Grc.Localization
@model Grc.Web.Pages.WhatsNew.IndexModel
@inject IHtmlLocalizer<GrcResource> L
@{
    ViewBag.Title = L["Menu:WhatsNew"].Value;
}

<div class="container-fluid">
    <div class="row mb-4">
        <div class="col-12 text-center">
            <h1 class="page-header">
                <i class="fas fa-sparkles"></i> @L["Menu:WhatsNew"]
            </h1>
            <p class="text-muted lead">@L["WhatsNew:Description"]</p>
        </div>
    </div>

    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="timeline">
                @foreach (var release in Model.Releases)
                {
                    <div class="card shadow mb-4">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <div>
                                <span class="badge @(release.Type == "major" ? "bg-primary" : "bg-secondary") me-2">
                                    v@release.Version
                                </span>
                                <strong>@release.Title</strong>
                            </div>
                            <small class="text-muted">
                                <i class="fas fa-calendar me-1"></i>@release.ReleaseDate.ToString("MMMM dd, yyyy")
                            </small>
                        </div>
                        <div class="card-body">
                            <p>@release.Description</p>
                            <h6><i class="fas fa-star me-1"></i>@L["NewFeatures"]:</h6>
                            <ul class="list-group list-group-flush">
                                @foreach (var feature in release.Features)
                                {
                                    <li class="list-group-item border-0 ps-0">
                                        <i class="fas fa-check-circle text-success me-2"></i>@feature
                                    </li>
                                }
                            </ul>
                        </div>
                    </div>
                }
            </div>

            <!-- Subscribe to Updates -->
            <div class="card shadow bg-light">
                <div class="card-body text-center py-4">
                    <h5><i class="fas fa-bell me-2"></i>@L["StayUpdated"]</h5>
                    <p class="text-muted">@L["SubscribeToUpdates"]</p>
                    <div class="input-group mx-auto" style="max-width: 400px;">
                        <input type="email" class="form-control" placeholder="@L["YourEmail"]">
                        <button class="btn btn-primary">@L["Subscribe"]</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .timeline::before {
        content: '';
        position: absolute;
        left: 50%;
        width: 2px;
        background: #dee2e6;
        top: 0;
        bottom: 0;
        transform: translateX(-50%);
    }
</style>
